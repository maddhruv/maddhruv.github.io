<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link rel="manifest" href="/manifest.json"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /><link rel="preload" href="/_next/static/css/aa3f7ec7d85f2442.css" as="style"/><link rel="stylesheet" href="/_next/static/css/aa3f7ec7d85f2442.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-d7b038a63b619762.js" defer=""></script><script src="/_next/static/chunks/framework-7dc8a65f4a0cda33.js" defer=""></script><script src="/_next/static/chunks/main-7ca0c04a95757ac7.js" defer=""></script><script src="/_next/static/chunks/pages/_app-8dc7680e87c03048.js" defer=""></script><script src="/_next/static/chunks/664-fe1f0ac1dd157bd4.js" defer=""></script><script src="/_next/static/chunks/500-2f12a9d3a5e589e1.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5Btitle%5D-05d98237e33d10b4.js" defer=""></script><script src="/_next/static/y3IXVlY01SDjNNYdaeJwk/_buildManifest.js" defer=""></script><script src="/_next/static/y3IXVlY01SDjNNYdaeJwk/_ssgManifest.js" defer=""></script><style data-href="https://fonts.googleapis.com/css2?family=Roboto&display=swap">@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Me5g.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu72xKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu5mxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu7mxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu4WxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu7WxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu7GxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu4mxKKTU1Kg.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style></head><body class="bg-white-regular dark:bg-black-light"><div id="__next"><div class="üè´"><h2 class="ü¶ã">Dhruv Jain</h2><div class="üìî"><header><div class="üè∑"><span><span class="GitHub">GitHub</span></span></div><h1>GitHub Packages Done Right</h1></header><main><main class="notion dark-mode notion-page notion-block-b4f68fc103714a0c9bdc492101778879 üìü"><div class="notion-viewport"></div><div class="notion-text notion-block-b4e7931e91b54538904b230569aea65c">
[GitHub Packages](https://github.com/features/packages) is an npm registry for your node/npm packages - private or public, just simply hosted at GitHub for you.

GitHub Packages can be easily used to publish private packages for your organization or self.

This guide covers how to use the packages in [GitHub Actions](https://github.com/features/actions). Pre assuming that you have already published a package on GitHub Packages (let&#x27;s call it _@foo/bar_, where _foo_ is your scope and _bar_ is the package name).

Let&#x27;s divide the whole procedure into steps üõµ:

Step 1. As [GitHub Help says](https://help.github.com/en/packages/using-github-packages-with-your-projects-ecosystem/using-github-packages-with-github-actions#:~:text=GITHUB_TOKEN%20cannot%20install%20packages%20from%20any%20private%20repository%20besides%20the%20repository%20where%20the%20action%20runs), the default `GITHUB_TOKEN` cannot install packages from any private repository besides the repository where the action runs. So, for accessing other private packages, we need to get a [personal access token](https://help.github.com/en/github/authenticating-to-github/creating-a-personal-access-token) with the following scopes:

- `repo`
- `write:packages`
- `read:packages`
- `delete:packages`

![GitHub Personal Access Token Permissions for GitHub Packages](./personal-access-token-permissions.png)

This token will ensure üêï that you don&#x27;t have any `Unauthorized Access or 401` errors.

Step 2. Create a new `SECRET` in the consuming repository. [How to add a Secret](https://help.github.com/en/actions/configuring-and-managing-workflows/creating-and-storing-encrypted-secrets#creating-encrypted-secrets-for-a-repository). Let&#x27;s name the secret as `GP_TOKEN`. That&#x27;s all on Step 2 ü§ó.

Step 3. And the final step üèÅ. In your `[action].yml` file, add one more step before dependencies installation -

```yml
- name: Create .npmrc
  run: |
    echo &quot;//npm.pkg.github.com/:_authToken=${{ secrets.GP_TOKEN }}&quot; &gt;&gt; .npmrc
    echo &quot;@foo:registry=https://npm.pkg.github.com&quot; &gt;&gt; .npmrc
```

Replace _foo_ with your package&#x27;s organization scope and yeah!! you are good to go.
This step will create a `.npmrc` file in your repository on the GitHub Action&#x27;s machine signifying the registry to fetch the corresponding scoped packages.

`git push` and enjoy GitHub Packages üçø üçø üçø.</div></main></main></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"pageData":{"recordMap":{"block":{"b4f68fc1-0371-4a0c-9bdc-492101778879":{"role":"reader","value":{"id":"b4f68fc1-0371-4a0c-9bdc-492101778879","version":52,"type":"page","properties":{"KU=I":[["Yes"]],"egRG":[["GitHub Packages with GitHub Actions"]],"rQIr":[["‚Ä£",[["d",{"type":"date","start_date":"2021-06-27"}]]]],"uDKy":[["GitHub"]],"title":[["GitHub Packages Done Right"]]},"content":["b4e7931e-91b5-4538-904b-230569aea65c"],"created_time":1659808020000,"last_edited_time":1659808080000,"parent_id":"68709411-c0b9-4d9c-b995-a3f4cde9837f","parent_table":"collection","alive":true,"created_by_table":"notion_user","created_by_id":"4a117995-d700-4cd6-969a-964f561e9cb2","last_edited_by_table":"notion_user","last_edited_by_id":"4a117995-d700-4cd6-969a-964f561e9cb2","space_id":"d7daae03-6acd-4b45-9e11-170a07bde7fa"}},"75f72675-84b3-4fe1-b177-f0d9457103cd":{"role":"reader","value":{"id":"75f72675-84b3-4fe1-b177-f0d9457103cd","version":50,"type":"collection_view_page","view_ids":["8747f097-3dd9-4d9e-ab0e-ebb0d9c269db"],"collection_id":"68709411-c0b9-4d9c-b995-a3f4cde9837f","format":{"collection_pointer":{"id":"68709411-c0b9-4d9c-b995-a3f4cde9837f","table":"collection","spaceId":"d7daae03-6acd-4b45-9e11-170a07bde7fa"}},"permissions":[{"role":"editor","type":"user_permission","user_id":"4a117995-d700-4cd6-969a-964f561e9cb2"},{"role":"reader","type":"public_permission","added_timestamp":1659799930185},{"role":{"read_content":true},"type":"bot_permission","bot_id":"76010e17-554f-4177-8431-1edf93b3c664","parent_id":"d7daae03-6acd-4b45-9e11-170a07bde7fa","parent_table":"space"}],"created_time":1659799922666,"last_edited_time":1659808618984,"parent_id":"d7daae03-6acd-4b45-9e11-170a07bde7fa","parent_table":"space","alive":true,"created_by_table":"notion_user","created_by_id":"4a117995-d700-4cd6-969a-964f561e9cb2","last_edited_by_table":"notion_user","last_edited_by_id":"4a117995-d700-4cd6-969a-964f561e9cb2","space_id":"d7daae03-6acd-4b45-9e11-170a07bde7fa"}},"b4e7931e-91b5-4538-904b-230569aea65c":{"role":"reader","value":{"id":"b4e7931e-91b5-4538-904b-230569aea65c","version":4,"type":"text","properties":{"title":[["\n[GitHub Packages](https://github.com/features/packages) is an npm registry for your node/npm packages - private or public, just simply hosted at GitHub for you.\n\nGitHub Packages can be easily used to publish private packages for your organization or self.\n\nThis guide covers how to use the packages in [GitHub Actions](https://github.com/features/actions). Pre assuming that you have already published a package on GitHub Packages (let's call it _@foo/bar_, where _foo_ is your scope and _bar_ is the package name).\n\nLet's divide the whole procedure into steps üõµ:\n\nStep 1. As [GitHub Help says](https://help.github.com/en/packages/using-github-packages-with-your-projects-ecosystem/using-github-packages-with-github-actions#:~:text=GITHUB_TOKEN%20cannot%20install%20packages%20from%20any%20private%20repository%20besides%20the%20repository%20where%20the%20action%20runs), the default `GITHUB_TOKEN` cannot install packages from any private repository besides the repository where the action runs. So, for accessing other private packages, we need to get a [personal access token](https://help.github.com/en/github/authenticating-to-github/creating-a-personal-access-token) with the following scopes:\n\n- `repo`\n- `write:packages`\n- `read:packages`\n- `delete:packages`\n\n![GitHub Personal Access Token Permissions for GitHub Packages](./personal-access-token-permissions.png)\n\nThis token will ensure üêï that you don't have any `Unauthorized Access or 401` errors.\n\nStep 2. Create a new `SECRET` in the consuming repository. [How to add a Secret](https://help.github.com/en/actions/configuring-and-managing-workflows/creating-and-storing-encrypted-secrets#creating-encrypted-secrets-for-a-repository). Let's name the secret as `GP_TOKEN`. That's all on Step 2 ü§ó.\n\nStep 3. And the final step üèÅ. In your `[action].yml` file, add one more step before dependencies installation -\n\n```yml\n- name: Create .npmrc\n  run: |\n    echo \"//npm.pkg.github.com/:_authToken=${{ secrets.GP_TOKEN }}\" \u003e\u003e .npmrc\n    echo \"@foo:registry=https://npm.pkg.github.com\" \u003e\u003e .npmrc\n```\n\nReplace _foo_ with your package's organization scope and yeah!! you are good to go.\nThis step will create a `.npmrc` file in your repository on the GitHub Action's machine signifying the registry to fetch the corresponding scoped packages.\n\n`git push` and enjoy GitHub Packages üçø üçø üçø."]]},"created_time":1659808080000,"last_edited_time":1659808080000,"parent_id":"b4f68fc1-0371-4a0c-9bdc-492101778879","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"4a117995-d700-4cd6-969a-964f561e9cb2","last_edited_by_table":"notion_user","last_edited_by_id":"4a117995-d700-4cd6-969a-964f561e9cb2","space_id":"d7daae03-6acd-4b45-9e11-170a07bde7fa"}}},"collection":{"68709411-c0b9-4d9c-b995-a3f4cde9837f":{"role":"reader","value":{"id":"68709411-c0b9-4d9c-b995-a3f4cde9837f","version":26,"name":[["maddhruv"]],"schema":{"KU=I":{"name":"published","type":"checkbox"},"egRG":{"name":"description","type":"text"},"rQIr":{"name":"date","type":"date"},"uDKy":{"name":"tags","type":"multi_select","options":[{"id":"dce85699-3a88-41b0-8943-039b2dab4890","color":"gray","value":"CSS"},{"id":"00ec2a4e-91b3-4c28-98af-e610c461da2c","color":"blue","value":"JavaScript"},{"id":"d23c068c-a72b-44ac-903a-334cbe70f0d5","color":"blue","value":"Testing"},{"id":"6f21a8f7-a84d-4b45-b1b9-1a652e9116eb","color":"purple","value":"GitHub"},{"id":"9391dc3d-602a-4abc-9a76-337b31805159","color":"pink","value":"Vercel"}]},"title":{"name":"title","type":"title"}},"format":{"collection_page_properties":[{"visible":true,"property":"uDKy"}]},"parent_id":"75f72675-84b3-4fe1-b177-f0d9457103cd","parent_table":"block","alive":true,"migrated":true,"space_id":"d7daae03-6acd-4b45-9e11-170a07bde7fa"}}},"space":{},"collection_view":{"8747f097-3dd9-4d9e-ab0e-ebb0d9c269db":{"role":"reader","value":{"id":"8747f097-3dd9-4d9e-ab0e-ebb0d9c269db","version":8,"type":"table","format":{"table_wrap":true,"table_properties":[{"width":276,"visible":true,"property":"title"},{"width":200,"visible":true,"property":"uDKy"},{"width":200,"visible":true,"property":"rQIr"},{"width":200,"visible":true,"property":"egRG"},{"visible":true,"property":"KU=I"}],"collection_pointer":{"id":"68709411-c0b9-4d9c-b995-a3f4cde9837f","table":"collection","spaceId":"d7daae03-6acd-4b45-9e11-170a07bde7fa"}},"parent_id":"75f72675-84b3-4fe1-b177-f0d9457103cd","parent_table":"block","alive":true,"page_sort":["8c37e887-1d08-4b35-ac72-2c97a034bc78","b4f68fc1-0371-4a0c-9bdc-492101778879","741c6944-40c0-4fce-9167-36d6cbb5e03d","ab4997c6-cd1b-4a31-b35f-bf71550f21ef","0afbbf7c-ac6b-43d0-b67b-a5e85f8e7260","20853b50-10fd-4571-a547-75bedd111659"],"space_id":"d7daae03-6acd-4b45-9e11-170a07bde7fa"}}},"notion_user":{},"collection_query":{},"signed_urls":{}},"id":"b4f68fc1-0371-4a0c-9bdc-492101778879","published":true,"description":"GitHub Packages with GitHub Actions","date":"2021-06-27","tags":["GitHub"],"title":"GitHub Packages Done Right"}},"__N_SSG":true},"page":"/blog/[title]","query":{"title":"GitHub-Packages-Done-Right"},"buildId":"y3IXVlY01SDjNNYdaeJwk","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>